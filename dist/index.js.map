{"version":3,"sources":["../src/domain/entities/Message.ts","../src/gateway/ClaudeCodeGateway.ts","../src/repository/orchestratorRepository.ts","../src/utils/normalizeCwd.ts","../src/domain/entities/Project.ts","../src/domain/entities/ProjectManager.ts","../src/domain/entities/Session.ts","../src/domain/entities/SessionManager.ts","../src/domain/entities/Orchestrator.ts","../src/factory/orchestratorFactory.ts","../src/usecase/createFollowupMessageUseCase.ts","../src/usecase/listMessagesUseCase.ts","../src/usecase/listProjectsUseCase.ts","../src/usecase/listSessionsUseCase.ts","../src/index.ts"],"sourcesContent":["export enum EMessenger {\n  USER = \"user\",\n  SYSTEM = \"system\"\n}\n\nexport interface IMessage {\n  messenger: EMessenger,\n  content: String\n}\n\nexport class Message implements IMessage {\n  messenger: EMessenger\n  content: String\n\n  constructor({ messenger, content }: IMessage) {\n    this.messenger = messenger\n    this.content = content\n  }\n}\n","import { query } from \"@anthropic-ai/claude-agent-sdk\"\n\nexport type ClaudeEvent =\n  | { type: \"assistant_text\", text: string, sessionId: string }\n  | { type: \"tool_call\", name: string }\n  | { type: \"done\", subtype?: string }\n  | { type: \"raw\", message: unknown }\n\nexport class ClaudeCodeGateway {\n  static async *streamMessage(path: string, content: string, sessionId?: string): AsyncGenerator<ClaudeEvent> {\n    console.log(\"session id\")\n    console.log(sessionId)\n    for await (const message of query({\n      prompt: content,\n      options: {\n        cwd: path,\n        resume: sessionId\n      }\n    })) {\n      if (message.type === \"assistant\" && message.message?.content) {\n        for (const block of message.message.content) {\n          if (\"text\" in block) yield { type: \"assistant_text\", text: block.text, sessionId: message.session_id }\n          else if (\"name\" in block) yield { type: \"tool_call\", name: block.name }\n        }\n      } else if (message.type === \"result\") {\n        yield { type: \"done\", subtype: message.subtype }\n      }\n    }\n  }\n}\n\n","import { promises as fs } from \"node:fs\"\nimport { readdir, readFile } from \"node:fs/promises\"\nimport path from \"node:path\"\nimport { normalizeCwd } from \"../utils/normalizeCwd.ts\"\nimport type { IOrchestrator } from \"../domain/entities/Orchestrator.ts\"\nimport type { IProject } from \"../domain/entities/Project.ts\"\nimport type { ISession } from \"../domain/entities/Session.ts\"\nimport { OrchestratorFactory } from \"../factory/orchestratorFactory.ts\"\n\nconst filePath = normalizeCwd(\"~/.lazystarforge/data\")\n\nexport class OrchestratorRepository {\n  static async find() {\n    const rawProjects = await fs.readFile(filePath + \"/projects.json\", \"utf8\")\n    const sessions = await this.readSessions()\n    const projects = JSON.parse(rawProjects)\n    // const sessions = JSON.parse(rawSessions)\n\n    const orchestratorFactory = new OrchestratorFactory(projects, sessions)\n    const orchestrator = orchestratorFactory.generate()\n    return orchestrator\n  }\n\n  static async save(orchestrator: IOrchestrator) {\n    const projectsJson = await this.convertOrchestratorProjectsToJson(orchestrator.listProjects())\n    // const sessionsJson = await this.convertOrchestratorSessionsToJson(orchestrator.listSessions())\n    await fs.writeFile(filePath + \"/projects.json\", projectsJson, \"utf8\")\n    await this.persistSessions(orchestrator.listSessions())\n  }\n\n  private static async convertOrchestratorProjectsToJson(projects: IProject[]) {\n    return JSON.stringify(projects, null, 2)\n  }\n\n  private static async convertOrchestratorSessionsToJson(sessions: ISession[]) {\n    const sessionsToUpdate = sessions.filter((session) => {\n      return session.updated === true\n    })\n    return JSON.stringify(sessionsToUpdate, null, 2)\n  }\n\n  private static async persistSessions(sessions: ISession[]) {\n    console.log(\"sessionsssss\")\n    console.log(sessions)\n    sessions.forEach(async (session: any) => {\n      const sessionJson = JSON.stringify(session, null, 2)\n      await fs.writeFile(filePath + `/sessions/${session.claudeCodeSessionId}.json`, sessionJson, \"utf8\")\n    })\n  }\n\n  private static async readSessions() {\n    const entries = await readdir(filePath + \"/sessions\", { withFileTypes: true })\n\n    const jsonFiles = entries\n      .filter((e) => e.isFile() && e.name.toLowerCase().endsWith(\".json\"))\n      .map((e) => path.join(filePath + \"/sessions\", e.name))\n\n    const results = await Promise.all(\n      jsonFiles.map(async (filePath) => {\n        const text = await readFile(filePath, \"utf8\")\n        return JSON.parse(text)\n      })\n    )\n\n    return results\n  }\n}\n","import os from \"node:os\"\nimport path from \"node:path\"\nimport fs from \"node:fs\"\n\nexport function normalizeCwd(p: string) {\n  const expanded =\n    p.startsWith(\"~/\") ? path.join(os.homedir(), p.slice(2)) :\n      p === \"~\" ? os.homedir() :\n        p\n\n  const abs = path.resolve(expanded)\n\n  if (!fs.existsSync(abs) || !fs.statSync(abs).isDirectory()) {\n    throw new Error(`Invalid cwd (does not exist or not a directory): ${abs}`)\n  }\n\n  return abs\n}\n","export interface IProject {\n  name: string\n  path: string\n}\n\nexport class Project implements IProject {\n  name: string\n  path: string\n\n  constructor(path: string, name: string) {\n    this.path = path\n    this.name = name\n  }\n}\n","import { type IProject } from \"./Project.ts\"\n\nexport interface IProjectManager {\n  projects: IProject[],\n  listProjects(): IProject[],\n  addProject(project: IProject): void\n}\n\nexport class ProjectManager implements IProjectManager {\n  projects: IProject[]\n\n  constructor(projects: IProject[] = []) {\n    this.projects = projects\n  }\n\n  addProject(project: IProject): void {\n    this.projects.push(project)\n  }\n\n  listProjects(): IProject[] {\n    return this.projects\n  }\n}\n","import { type IProject } from \"./Project.ts\"\nimport { type IMessage } from \"./Message.ts\";\n\nexport enum ESessionStatus {\n  ACTIVE = \"active\",\n  IDLE = \"idle\"\n}\n\nexport interface ISession {\n  status: ESessionStatus,\n  worktree: string,\n  project: IProject,\n  messages: IMessage[],\n  claudeCodeSessionId: string,\n  updated: boolean,\n  sendMessage(message: IMessage): void,\n  manualTakeover(): void\n}\n\nexport class Session implements ISession {\n  status: ESessionStatus\n  worktree: string\n  project: IProject\n  claudeCodeSessionId: string;\n  messages: IMessage[]\n  updated: boolean\n\n  constructor(status: ESessionStatus = ESessionStatus.IDLE, worktree: string, project: IProject, claudeCodeSessionId: string, messages: IMessage[] = []) {\n    this.status = status\n    this.worktree = worktree\n    this.project = project\n    this.claudeCodeSessionId = claudeCodeSessionId\n    this.messages = messages\n    this.updated = false\n  }\n\n  sendMessage(message: IMessage): void {\n    this.messages.push(message)\n    this.updated = true\n  }\n\n  manualTakeover(): void {\n    // TODO\n  }\n}\n\n","import { type ISession } from \"./Session.ts\"\n\nexport interface ISessionManager {\n  sessions: ISession[],\n  listSessions(): ISession[],\n  addSession(session: ISession): void\n}\n\nexport class SessionManager implements ISessionManager {\n  sessions: ISession[]\n\n  constructor(sessions: ISession[] = []) {\n    this.sessions = sessions\n  }\n\n  addSession(session: ISession): void {\n    this.sessions.push(session)\n  }\n\n  listSessions(): ISession[] {\n    return this.sessions\n  }\n}\n","import { EMessenger, type IMessage, Message } from \"./Message.ts\";\nimport { type IProject, Project } from \"./Project.ts\";\nimport { type IProjectManager, ProjectManager } from \"./ProjectManager.ts\";\nimport { ESessionStatus, Session, type ISession } from \"./Session.ts\";\nimport { type ISessionManager, SessionManager } from \"./SessionManager.ts\";\n\nexport interface IOrchestrator {\n  projectManager: IProjectManager,\n  sessionManager: ISessionManager,\n  newProject(...args: ConstructorParameters<typeof Project>): void,\n  listProjects(): IProject[],\n  newSession(...args: NewSessionArgs): void,\n  listSessions(): ISession[],\n  sendMessage(messenger: EMessenger, session: ISession, message: string): void,\n  listMessages(session: ISession): IMessage[],\n  takeoverSession(session: ISession): void\n}\n\ntype SessionCtorArgs = ConstructorParameters<typeof Session>\ntype NewSessionArgs = [worktree: SessionCtorArgs[1], project: SessionCtorArgs[2], claudeCodeSessionId: SessionCtorArgs[3]]\n\nexport class Orchestrator implements IOrchestrator {\n  projectManager: IProjectManager\n  sessionManager: ISessionManager\n\n  constructor(projectManager: IProjectManager = new ProjectManager, sessionManager: ISessionManager = new SessionManager) {\n    this.projectManager = projectManager\n    this.sessionManager = sessionManager\n  }\n\n  newProject(...args: ConstructorParameters<typeof Project>): void {\n    // TODO: if name already exists throw error\n    const project = new Project(...args)\n    this.projectManager.addProject(project)\n  }\n\n  listProjects(): IProject[] {\n    return this.projectManager.listProjects()\n  }\n\n  newSession(...args: NewSessionArgs): void {\n    const session = new Session(ESessionStatus.IDLE, ...args)\n    this.sessionManager.addSession(session)\n  }\n\n  listSessions(): ISession[] {\n    return this.sessionManager.listSessions()\n  }\n\n  sendMessage(messenger: EMessenger = EMessenger.USER, session: ISession, messageContent: string): void {\n    const message = new Message({ messenger: messenger, content: messageContent })\n    session.sendMessage(message)\n  }\n\n  listMessages(session: ISession): IMessage[] {\n    return session.messages\n  }\n\n  takeoverSession(session: ISession): void {\n    session.manualTakeover()\n  }\n}\n","import { EMessenger, Message } from \"../domain/entities/Message.ts\"\nimport { Orchestrator } from \"../domain/entities/Orchestrator.ts\"\nimport { Project } from \"../domain/entities/Project.ts\"\nimport { ProjectManager } from \"../domain/entities/ProjectManager.ts\"\nimport { ESessionStatus, Session } from \"../domain/entities/Session.ts\"\nimport { SessionManager } from \"../domain/entities/SessionManager.ts\"\n\nexport class OrchestratorFactory {\n  projectsJson: any\n  sessionsJson: any\n\n  constructor(projects: any, sessions: any) {\n    this.projectsJson = projects\n    this.sessionsJson = sessions\n  }\n\n  generate() {\n    const projects = this.parseProjects(this.projectsJson)\n    const sessions = this.parseSessions(this.sessionsJson)\n\n    return new Orchestrator(projects, sessions)\n  }\n\n  private parseProjects(projectsJson: any) {\n    const projects = projectsJson.map((json: any) => {\n      return new Project(json[\"path\"], json[\"name\"])\n    })\n\n    return new ProjectManager(projects)\n  }\n\n  private parseSessions(sessionsJson: any) {\n    const sessions = sessionsJson.map((json: any) => {\n      const status = this.parseSessionStatus(json[\"status\"])\n      const project = new Project(json[\"project\"][\"path\"], json[\"project\"][\"name\"])\n      const messages = this.parseMessages(json[\"messages\"])\n      return new Session(status, json[\"worktree\"], project, json[\"claudeCodeSessionId\"], messages)\n    })\n\n    return new SessionManager(sessions)\n  }\n\n  private parseSessionStatus(input: string): ESessionStatus {\n    if ((Object.values(ESessionStatus) as string[]).includes(input)) {\n      return input as ESessionStatus\n    }\n    throw new Error(\"invalid session status\")\n  }\n\n  private parseMessages(messagesJson: any) {\n    const messages = messagesJson.map((json: any) => {\n      const messenger = this.parseMessenger(json[\"messenger\"])\n      return new Message({ messenger, content: json[\"content\"] })\n    })\n\n    return messages\n  }\n\n  private parseMessenger(input: string): EMessenger {\n    if ((Object.values(EMessenger) as string[]).includes(input)) {\n      return input as EMessenger\n    }\n    throw new Error(\"invalid messege messenger\")\n  }\n}\n","import { EMessenger } from \"../domain/entities/Message.ts\";\nimport { ClaudeCodeGateway } from \"../gateway/ClaudeCodeGateway.ts\";\nimport { OrchestratorRepository } from \"../repository/orchestratorRepository.ts\";\n\nexport class createFollowupMessageUseCase {\n  static async sendMessage(userMessage: string, sessionId: string) {\n    const orchestrator = await OrchestratorRepository.find()\n    const session = orchestrator.listSessions().find((session) => {\n      return session.claudeCodeSessionId === sessionId\n    })\n\n    if (session === undefined) throw new Error(\"invalid session\")\n\n    orchestrator.sendMessage(EMessenger.USER, session, userMessage)\n    for await (const event of ClaudeCodeGateway.streamMessage(session.project.path, userMessage, sessionId)) {\n      if (event.type === \"assistant_text\") {\n        orchestrator.sendMessage(EMessenger.SYSTEM, session, event.text)\n      }\n    }\n    await OrchestratorRepository.save(orchestrator)\n  }\n}\n","import { OrchestratorRepository } from \"../repository/orchestratorRepository.ts\";\n\nexport class ListMessagesUseCase {\n  static async listMesseges(sessionId: string) {\n    const orchestrator = await OrchestratorRepository.find()\n    console.log(\"debug\")\n    console.log(orchestrator.listSessions())\n    console.log(sessionId)\n    const session = orchestrator.listSessions().find((session) => {\n      return session.claudeCodeSessionId === sessionId\n    })\n\n    if (session === undefined) throw new Error(\"invalid session\")\n\n    return orchestrator.listMessages(session)\n  }\n}\n","import { OrchestratorRepository } from \"../repository/orchestratorRepository.ts\";\n\nexport class ListProjectsUseCase {\n  static async listProjects() {\n    const orchestrator = await OrchestratorRepository.find()\n    const projects = orchestrator.listProjects()\n    return projects\n  }\n}\n","import { OrchestratorRepository } from \"../repository/orchestratorRepository.ts\";\n\nexport class ListSessionsUseCase {\n  static async ListSessions() {\n    const orchestrator = await OrchestratorRepository.find()\n    const sessions = orchestrator.listSessions()\n    return sessions\n  }\n}\n","#!/usr/bin/env node\n\nimport { createFollowupMessageUseCase } from \"./usecase/createFollowupMessageUseCase.ts\"\nimport { ListMessagesUseCase } from \"./usecase/listMessagesUseCase.ts\"\nimport { ListProjectsUseCase } from \"./usecase/listProjectsUseCase.ts\"\nimport { ListSessionsUseCase } from \"./usecase/listSessionsUseCase.ts\"\n\nconst projects = await ListProjectsUseCase.listProjects()\nconsole.log(\"projects\")\nconsole.log(projects)\n\nconst sessions = await ListSessionsUseCase.ListSessions()\nconsole.log(\"sessions\")\nconsole.log(sessions)\n\nawait createFollowupMessageUseCase.sendMessage(\"double the previous value you returned\", sessions[0].claudeCodeSessionId)\nconst messages = await ListMessagesUseCase.listMesseges(sessions[0].claudeCodeSessionId)\nconsole.log(\"messages\")\nconsole.log(messages)\n\nconsole.log(\"lazystarforge\")\n"],"mappings":"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","names":["EMessenger","path","fs","path","path","projects","ESessionStatus","messages","sessions","projects","sessions","messages","fs","sessions","projects","path","filePath","session","session","projects","sessions"]}